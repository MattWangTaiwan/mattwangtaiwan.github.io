var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,s=(t,s)=>{for(var o in s||(s={}))e.call(s,o)&&r(t,o,s[o]);if(n)for(var o of n(s))i.call(s,o)&&r(t,o,s[o]);return t};import{V as o}from"./vendor.e0c7b3c9.js";import{b as a,r as c,C as l,n as u}from"./index.8a164fd8.js";function p(t){return a((function(e,n){if(void 0===e.inject&&(e.inject={}),!Array.isArray(e.inject)){var i=t?t.from||t:n,r=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this[c];return t?t[i]:r},e.inject[c]=c}}))}var d="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function h(t,e,n){if(d&&!Array.isArray(t)&&"function"!=typeof t&&!t.hasOwnProperty("type")&&void 0===t.type){var i=Reflect.getMetadata("design:type",e,n);i!==Object&&(t.type=i)}}function f(t){return void 0===t&&(t={}),function(e,n){h(t,e,n),a((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function v(t,e){return void 0===e&&(e={}),function(n,i){h(e,n,i),a((function(n,i){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[i]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,i)}}function y(t,e){void 0===e&&(e={});var n=e.deep,i=void 0!==n&&n,r=e.immediate,s=void 0!==r&&r;return a((function(e,n){"object"!=typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!=typeof r[t]||Array.isArray(r[t])?void 0===r[t]&&(r[t]=[]):r[t]=[r[t]],r[t].push({handler:n,deep:i,immediate:s})}))}var g=Object.defineProperty,_=Object.getOwnPropertyDescriptor,m=(t,e,n,i)=>{for(var r,s=i>1?void 0:i?_(e,n):e,o=t.length-1;o>=0;o--)(r=t[o])&&(s=(i?r(e,n,s):r(s))||s);return i&&s&&g(e,n,s),s};let b=class extends o{constructor(){super(...arguments),this.show_=!0}get filtedSyncAttr(){return Object.keys(this.syncAttr).filter((t=>-1!==t.toLowerCase().indexOf(this.syncSearch.toLowerCase())))}onCleanFormat(){o.set(this.syncAttr,"background-color","rgba(0,0,0,0.5)"),this.show_=!1,this.$nextTick((()=>this.show_=!0))}onBgColorChange(t){o.set(this.syncAttr,"background-color",t.target.value)}ignoreAttr(t){switch(t){case"align-items":case"justify-content":case"position":case"background-color":case"comp":case"style":case"opacity":case"top":case"left":case"x":case"y":case"r":case"b":case"w":case"h":case"width":case"height":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"border-top":case"border-right":case"border-bottom":case"border-left":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":return!0;default:return!1}}};m([v("attr")],b.prototype,"syncAttr",2),m([v("search")],b.prototype,"syncSearch",2),b=m([l],b);const x={};var A=u(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show_?n("div",{staticClass:"sr-unselectable"},t._l(t.filtedSyncAttr.sort(),(function(e,i){return n("div",{key:i},[!1===t.ignoreAttr(e)?n("div",[n("div",{staticClass:"prop-title"},[t._v(t._s(e))]),n("div",{staticClass:"sr-vc"},[n("fluent-text-field",{staticStyle:{width:"100%"},attrs:{value:t.syncAttr[e]},on:{input:function(n){return t.syncAttr[e]=n.target.value}}})],1)]):"background-color"===e?n("div",[n("div",{staticClass:"prop-title sr-vc"},[t._v(" "+t._s(e)+" "),n("div",{staticClass:"color-tile",style:{"background-color":t.syncAttr[e]}})]),n("div",{staticClass:"sr-vc"},[n("fluent-text-field",{staticStyle:{width:"calc(100% - 36px)"},attrs:{value:t.syncAttr[e]},on:{input:t.onBgColorChange}}),n("fluent-button",{attrs:{appearance:"accent"},on:{click:t.onCleanFormat}},[n("pp-icon",{attrs:{icon:"ClearFormatting"}})],1)],1)]):"opacity"===e?n("div",[n("pp-slider",{attrs:{label:e,min:"0",max:"1",step:"0.01"},model:{value:t.syncAttr[e],callback:function(n){t.$set(t.syncAttr,e,n)},expression:"syncAttr[attr]"}})],1):"align-items"===e?n("div",[n("pp-combobox",{attrs:{label:"align-items",appearance:"outline"},model:{value:t.syncAttr[e],callback:function(n){t.$set(t.syncAttr,e,n)},expression:"syncAttr[attr]"}},[n("pp-option",[t._v("flex-start")]),n("pp-option",[t._v("flex-end")]),n("pp-option",[t._v("center")]),n("pp-option",[t._v("stretch")]),n("pp-option",[t._v("baseline")])],1)],1):"justify-content"===e?n("div",[n("pp-combobox",{attrs:{label:"justify-content",appearance:"outline",position:"above"},model:{value:t.syncAttr[e],callback:function(n){t.$set(t.syncAttr,e,n)},expression:"syncAttr[attr]"}},[n("pp-option",[t._v("flex-start")]),n("pp-option",[t._v("flex-end")]),n("pp-option",[t._v("center")]),n("pp-option",[t._v("space-between")]),n("pp-option",[t._v("space-around")]),n("pp-option",[t._v("spece-evenly")])],1)],1):t._e()])})),0):t._e()}),[],!1,w,"5d1e2537",null,null);function w(t){for(let e in x)this[e]=x[e]}var C=function(){return A.exports}();function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function S(t,e){return function(n){n&&(t[e]=n)}}function P(t,e,n){return function(i){i&&(t[e][n]=i)}}function $(t,e){return function(n){var i=n.prototype;t.forEach((function(t){e(i,t)}))}}var E=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,i=this.values,r=n.indexOf(t),s=-1===r?n.length:r;n[s]=t,i[s]=e},t}(),O=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),D="function"==typeof Map,k=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var T=function(){function t(t,e,n,i,r,s,o,a){this.prevList=t,this.list=e,this.added=n,this.removed=i,this.changed=r,this.maintained=s,this.changedBeforeAdded=o,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],i=[];return t.forEach((function(t){var e=t[0],r=t[1],s=new k;n[e]=s,i[r]=s})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var r=t[0],s=t[1];if(r===s)return[0,0];var o=n[r],a=i[s-1],c=o.getIndex();return o.disconnect(),a?o.connect(a,a.next):o.connect(void 0,n[0]),[c,o.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,i){var r=t[0],s=t[1],o=e[i],a=o[0],c=o[1];if(r!==s)return n.push([a,c]),!0})),this.cachePureChanged=n},t}();function j(t,e,n){var i=D?Map:n?O:E,r=n||function(t){return t},s=[],o=[],a=[],c=t.map(r),l=e.map(r),u=new i,p=new i,d=[],h=[],f={},v=[],y=0,g=0;return c.forEach((function(t,e){u.set(t,e)})),l.forEach((function(t,e){p.set(t,e)})),c.forEach((function(t,e){var n=p.get(t);void 0===n?(++g,o.push(e)):f[n]=g})),l.forEach((function(t,e){var n=u.get(t);void 0===n?(s.push(e),++y):(a.push([n,e]),g=f[e]||0,d.push([n-g,e-y]),h.push(e===n),n!==e&&v.push([n,e]))})),o.reverse(),new T(t,e,s,o,v,a,d,h)}var L=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],N={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function X(t){return t&&"object"==typeof t}function Y(t){return Array.isArray(t)}function M(t){return"string"==typeof t}function z(t,e,n,i,r){return R(t,e,n)?n:function(t,e,n,i,r){for(var s,o=function(n){var o=e[n].trim();if(o===t.close&&!R(t,e,n))return{value:n};var a=n,c=B(r,(function(t){return t.open===o}));if(c&&(a=z(c,e,n,i,r)),-1===a)return s=n,"break";s=n=a},a=n;a<i;++a){var c=o(a);if(a=s,"object"==typeof c)return c.value;if("break"===c)break}return-1}(t,e,n+1,i,r)}function R(t,e,n){if(!t.ignore)return null;var i=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(i)}function H(t,e){var n=M(e)?{separator:e}:e,i=n.separator,r=void 0===i?",":i,s=n.isSeparateFirst,o=n.isSeparateOnlyOpenClose,a=n.isSeparateOpenClose,c=void 0===a?o:a,l=n.openCloseCharacters,u=void 0===l?L:l,p=u.map((function(t){var e=t.open,n=t.close;return e===n?e:e+"|"+n})).join("|"),d=new RegExp("(\\s*"+r+"\\s*|"+p+"|\\s+)","g"),h=t.split(d).filter(Boolean),f=h.length,v=[],y=[];function g(){return!!y.length&&(v.push(y.join("")),y=[],!0)}for(var _,m=function(t){var e=h[t].trim(),n=t,i=B(u,(function(t){return t.open===e})),a=B(u,(function(t){return t.close===e}));if(i){if(-1!==(n=z(i,h,t,f,u))&&c)return g()&&s?(_=t,"break"):(v.push(h.slice(t,n+1).join("")),t=n,s?(_=t,"break"):(_=t,"continue"))}else{if(a&&!R(a,h,t))throw new Error("invalid format: "+a.close);if(function(t,e){return(""===e||" "==e)&&(""===t||" "==t)||t===e}(e,r)&&!o)return g(),s?(_=t,"break"):(_=t,"continue")}-1===n&&(n=f-1),y.push(h.slice(t,n+1).join("")),_=t=n},b=0;b<f;++b){var x=m(b);if(b=_,"break"===x)break}return y.length&&v.push(y.join("")),v}function W(t){return H(t,",")}function F(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],i=e[2];return{prefix:n,unit:e[3],value:parseFloat(i)}}function I(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,n,i){return""+n+e+i.toLowerCase()}))}function U(){return Date.now?Date.now():(new Date).getTime()}function V(t,e,n){void 0===n&&(n=-1);for(var i=t.length,r=0;r<i;++r)if(e(t[r],r,t))return r;return n}function B(t,e,n){var i=V(t,e);return i>-1?t[i]:n}function J(t,e){var n=F(t),i=n.value,r=n.unit;if(X(e)){var s=e[r];if(s){if(function(t){return"function"==typeof t}(s))return s(i);if(N[r])return N[r](i,s)}}else if("%"===r)return i*e/100;return N[r]?N[r](i):i}function Z(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function q(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Q(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function K(t,e,n,i){t.addEventListener(e,n,i)}function tt(t,e,n,i){t.removeEventListener(e,n,i)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var et=function(t,e){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function nt(t,e){function n(){this.constructor=t}et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var it=function(){return(it=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function rt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function st(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function ot(t,e){var n=Object.keys(t),i=Object.keys(e),r=j(n,i,(function(t){return t})),s={},o={},a={};return r.added.forEach((function(t){var n=i[t];s[n]=e[n]})),r.removed.forEach((function(e){var i=n[e];o[i]=t[i]})),r.maintained.forEach((function(i){var r=i[0],s=n[r],o=[t[s],e[s]];t[s]!==e[s]&&(a[s]=o)})),{added:s,removed:o,changed:a}}function at(t){t.forEach((function(t){t()}))}function ct(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function lt(t,e,n,i){return M(t)||"number"==typeof t?new yt("text_"+t,e,n,i,null,{}):new("string"==typeof t.type?gt:t.type.prototype.render?At:bt)(t.type,e,n,i,t.ref,t.props)}function ut(t){var e=[];return t.forEach((function(t){e=e.concat(Y(t)?ut(t):t)})),e}function pt(t){var e=t.className,n=rt(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function dt(t,e){if(!e)return t;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function ht(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=e||{},s=r.key,o=r.ref,a=rt(r,["key","ref"]);return{type:t,key:s,ref:o,props:it(it({},a),{children:ut(n).filter((function(t){return null!=t&&!1!==t}))})}}var ft=function(){function t(t,e,n,i,r,s){void 0===s&&(s={}),this.type=t,this.key=e,this.index=n,this.container=i,this.ref=r,this.props=s,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,i){if(this.base&&!M(e)&&!i&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var r=this.props;return M(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function vt(t){var e={},n={};for(var i in t)0===i.indexOf("on")?n[i.replace("on","").toLowerCase()]=t[i]:e[i]=t[i];return{attributes:e,events:n}}var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}nt(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?e._mounted():e._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(ft),gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e._isSVG=!1,e}nt(e,t);var n=e.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return st(this.props,t)},n._render=function(t,e){var n=this,i=!this.base;if(i){var r=this._hasSVG();this._isSVG=r;var s=this.props.portalContainer;if(!s){var o=this.type;s=r?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o)}this.base=s}Pt(this,this._providers,this.props.children,t,null);var a=this.base,c=vt(e),l=c.attributes,u=c.events,p=vt(this.props),d=p.attributes,h=p.events;return function(t,e,n){var i=ot(t,e),r=i.added,s=i.removed,o=i.changed;for(var a in r)n.setAttribute(a,r[a]);for(var a in o)n.setAttribute(a,o[a][1]);for(var a in s)n.removeAttribute(a)}(pt(l),pt(d),a),function(t,e,n){var i=ot(t,e),r=i.added,s=i.removed,o=i.changed;for(var a in s)n.removeEventListener(a);for(var a in r)n.addEventListener(a,r[a]);for(var a in o)n.removeEventListener(a),n.addEventListener(a,o[a][1]);for(var a in s)n.removeEventListener(a)}(u,h,this),function(t,e,n){var i=n.style,r=ot(t,e),s=r.added,o=r.removed,a=r.changed;for(var c in s){var l=I(c,"-");i.setProperty?i.setProperty(l,s[c]):i[l]=s[c]}for(var c in a)l=I(c,"-"),i.setProperty?i.setProperty(l,a[c][1]):i[l]=a[c][1];for(var c in o)l=I(c,"-"),i.removeProperty?i.removeProperty(l):i[l]=""}(e.style||{},this.props.style||{},a),t.push((function(){i?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach((function(t){t._unmount()})),this.events={},this.props.portalContainer||e.parentNode.removeChild(e)},n._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var t=_t(this.container);return t&&"ownerSVGElement"in t},e}(ft);function _t(t){if(!t)return null;var e=t.base;return e instanceof Node?e:_t(t.container)}function mt(t){if(!t)return null;if(t instanceof Node)return t;var e=t.$_provider._providers;return e.length?mt(e[0].base):null}var bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}nt(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return Pt(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(ft),xt=function(t){function e(e){var n=t.call(this,"container","container",0,null)||this;return n.base=e,n}nt(e,t);var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(ft),At=function(t){function e(e,n,i,r,s,o){return void 0===o&&(o={}),t.call(this,e,n,i,r,s,dt(o,e.defaultProps))||this}nt(e,t);var n=e.prototype;return n._should=function(t,e){return this.base.shouldComponentUpdate(dt(t,this.type.defaultProps),e||this.base.state)},n._render=function(t,e,n){var i=this;this.props=dt(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var s=this.base,o=s.state,a=s.render();a&&a.props&&!a.props.children.length&&(a.props.children=this.props.children),Pt(this,this._providers,a?[a]:[],t,n,null),t.push((function(){r?(i._mounted(),s.componentDidMount()):(i._updated(),s.componentDidUpdate(e,o))}))},n._setState=function(t){var e=this.base;e&&t&&(e.state=t)},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}(ft),wt=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var i=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=it(it({},this.$_state),t),n?this.$_setState(e,n):this.$_timer=setTimeout((function(){i.$_timer=0,i.$_setState(e,n)}))},e.forceUpdate=function(t){this.setState({},t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},e.$_setState=function(t,e){var n=[],i=this.$_provider;Pt(i.container,[i],[i.original],n,it(it({},this.state),this.$_state),e)&&(t&&n.push(t),at(n))},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nt(e,t),e.prototype.shouldComponentUpdate=function(t,e){return st(this.props,t)||st(this.state,e)},e}(wt),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}nt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=new xt(n),$t(e,n,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;$t(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){$t(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(Ct);function St(t,e,n){var i=n.map((function(t){return M(t)?null:t.key})),r=j(ct(e.map((function(t){return t.key}))),ct(i),(function(t){return t}));r.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),r.ordered.forEach((function(t){var n=t[0],i=t[1],r=e.splice(n,1)[0];e.splice(i,0,r);var s=mt(r.base),o=mt(e[i+1]&&e[i+1].base);s&&s.parentNode.insertBefore(s,o)})),r.added.forEach((function(r){e.splice(r,0,lt(n[r],i[r],r,t))}));var s=r.maintained.filter((function(r){r[0];var s=r[1],o=n[s],a=e[s];return(M(o)?"text_"+o:o.type)!==a.type?(a._unmount(),e.splice(s,1,lt(o,i[s],s,t)),!0):(a.index=s,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}(r.added,s.map((function(t){return t[0],t[1]})))}function Pt(t,e,n,i,r,s){var o=St(t,e,n),a=e.filter((function(t,e){return t._update(i,n[e],r,s)})),c=_t(t);return c&&o.reverse().forEach((function(n){var i=e[n],r=mt(i.base);if(r&&c!==r&&!r.parentNode){var s=function(t,e){for(var n=t._providers,i=n.length,r=e.index+1;r<i;++r){var s=mt(n[r].base);if(s)return s}return null}(t,i);c.insertBefore(r,s)}})),a.length>0}function $t(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var i=!!n;return n||(n=new xt(e)),function(t,e,n){var i=[];Pt(t,t._providers,e,i,n),at(i)}(n,t?[t]:[]),i||(e.__REACT_COMPAT__=n),n}function Et(t,e,n){var i=e.__REACT_COMPAT__;t&&!i&&(e.innerHTML=""),$t(t,e,i),n&&n()}var Ot=function(t,e){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dt=["type","width","height","unit","zoom","style","backgroundColor","lineColor","textColor","direction","textFormat","scrollPos","textAlign","mainLineSize","longLineSize","shortLineSize","negativeRuler","textOffset"],kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={scrollPos:0},e.width=0,e.height=0,e}!function(t,e){function n(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){return ht("canvas",{ref:S(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,i=e.height,r=e.scrollPos;this.width=n||t.offsetWidth,this.height=i||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw(r)},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e,i=n.unit,r=n.zoom,s=n.type,o=n.backgroundColor,a=n.lineColor,c=n.textColor,l=n.direction,u=n.negativeRuler,p=void 0===u||u,d=n.textFormat,h=this.width,f=this.height;this.state.scrollPos=t;var v=this.canvasContext,y="horizontal"===s,g="start"===l,_=!1!==p,m=e.textAlign||"left",b=e.textOffset||[0,0],x=y?f:h,A=J(""+(e.mainLineSize||"100%"),x),w=J(""+(e.longLineSize||10),x),C=J(""+(e.shortLineSize||7),x);"transparent"===o?v.clearRect(0,0,2*h,2*f):(v.rect(0,0,2*h,2*f),v.fillStyle=o,v.fill()),v.save(),v.scale(2,2),v.strokeStyle=a,v.lineWidth=1,v.font="10px sans-serif",v.fillStyle=c,g&&(v.textBaseline="top"),v.translate(.5,0),v.beginPath();for(var G=y?h:f,S=r*i,P=Math.floor(t*r/S),$=Math.ceil((t*r+G)/S)-P,E=Math.max(["left","center","right"].indexOf(m)-1,-1),O=0;O<=$;++O){var D=O+P;if(_||!(D<0)){for(var k=(D*i-t)*r,T=0;T<10;++T){var j=k+T/10*S;if(!(j<0||j>=G)){var L=0===T?A:T%2==0?w:C,N=y?[j,g?0:f-L]:[g?0:h-L,j],X=N[0],Y=N[1],M=y?[X,Y+L]:[X+L,Y],z=M[0],R=M[1];v.moveTo(X,Y),v.lineTo(z,R)}}if(k>=-S&&k<G+i*r){var H=y?[k+-3*E,g?17:f-17]:[g?17:h-17,k+3*E],W=H[0],F=H[1],I=""+D*i;d&&(I=d(D*i)),v.textAlign=m,y?v.fillText(I,W+b[0],F+b[1]):(v.save(),v.translate(W+b[0],F+b[1]),v.rotate(-Math.PI/2),v.fillText(I,0,0),v.restore())}}}v.stroke(),v.restore()},e.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",textColor:"#ffffff",lineColor:"#777777"},e}(Ct),Tt=function(){return(Tt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var jt=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(X(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(X(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=V(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(Tt({listener:e},n))},t}(),Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Xt(t){return 180*(e=[t[0].clientX,t[0].clientY],n=[t[1].clientX,t[1].clientY],i=n[0]-e[0],r=n[1]-e[1],((s=Math.atan2(r,i))>=0?s:s+2*Math.PI)/Math.PI);var e,n,i,r,s}function Yt(t){return t?t.touches?function(t){for(var e=Math.min(t.length,2),n=[],i=0;i<e;++i)n.push(Rt(t[i]));return n}(t.touches):[Rt(t)]:[]}function Mt(t,e,n){var i=n.length,r=Ht(t,i),s=r.clientX,o=r.clientY,a=r.originalClientX,c=r.originalClientY,l=Ht(e,i),u=l.clientX,p=l.clientY,d=Ht(n,i);return{clientX:a,clientY:c,deltaX:s-u,deltaY:o-p,distX:s-d.clientX,distY:o-d.clientY}}function zt(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Rt(t){return{clientX:t.clientX,clientY:t.clientY}}function Ht(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=t[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Wt=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.getAngle=function(t){return void 0===t&&(t=this.prevClients),Xt(t)},e.getRotation=function(t){return void 0===t&&(t=this.prevClients),Xt(t)-Xt(this.startClients)},e.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var n=Mt(t||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,r=n.deltaY;return this.movement+=Math.sqrt(i*i+r*r),this.prevClients=t,n},e.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(n,i){return Mt([t[i]],[e[i]],[n])}))},e.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Ht(t,this.length),i=Ht(this.prevClients,this.length),r=n.clientX-i.clientX,s=n.clientY-i.clientY;return Math.sqrt(r*r+s*s)+e},e.getDistance=function(t){return void 0===t&&(t=this.prevClients),zt(t)},e.getScale=function(t){return void 0===t&&(t=this.prevClients),zt(t)/zt(this.startClients)},e.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),Ft=["textarea","input"],It=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._dragFlag=!1,i.onDragStart=function(t,e){if(void 0===e&&(e=!0),i.flag||!1!==t.cancelable){var n=i.options,r=n.container,s=n.pinchOutside,o=n.preventWheelClick,a=n.preventRightClick,c=n.preventDefault,l=n.checkInput,u=i.isTouch,p=!i.flag;if(o&&(2===t.which||1===t.button)||a&&(3===t.which||2===t.button))return i.initDrag(),!1;if(p){var d=document.activeElement,h=t.target,f=h.tagName.toLowerCase(),v=Ft.indexOf(f)>-1,y=h.isContentEditable;if(v||y){if(l||d===h)return!1;if(d&&y&&d.isContentEditable&&d.contains(h))return!1}else if((c||"touchstart"===t.type)&&d){var g=d.tagName;(d.isContentEditable||Ft.indexOf(g)>-1)&&d.blur()}i.clientStores=[new Wt(Yt(t))],i.flag=!0,i.isDrag=!1,i._dragFlag=!0,i.datas={},i.doubleFlag=U()-i.prevTime<200,!1===i.emit("dragStart",Nt(Nt({datas:i.datas,inputEvent:t,isTrusted:e,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){i._dragFlag=!1}}))&&i.initDrag(),i.flag&&c&&t.preventDefault()}if(!i.flag)return!1;var _=0;if(p&&u&&s&&(_=setTimeout((function(){K(r,"touchstart",i.onDragStart,{passive:!1})}))),!p&&u&&s&&tt(r,"touchstart",i.onDragStart),i.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(_),p&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}}},i.onDrag=function(t,e){if(i.flag){var n=Yt(t),r=i.moveClients(n,t,!1);if(i._dragFlag){if(i.pinchFlag||r.deltaX||r.deltaY)if(!1===i.emit("drag",Nt(Nt({},r),{isScroll:!!e,inputEvent:t})))return void i.stop();i.pinchFlag&&i.onPinch(t,n)}i.getCurrentStore().getPosition(n,!0)}},i.onDragEnd=function(t){if(i.flag){var e=i.options,n=e.pinchOutside,r=e.container;i.isTouch&&n&&tt(r,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(t);var s=(null==t?void 0:t.touches)?Yt(t):[];0!==s.length&&i.options.keepDragging?i._addStore(new Wt(s)):i.flag=!1;var o=i._getPosition(),a=U(),c=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||c?0:a,i.flag||(i.emit("dragEnd",Nt({datas:i.datas,isDouble:c,isDrag:i.isDrag,isClick:!i.isDrag,inputEvent:t},o)),i.clientStores=[])}},i.onBlur=function(){i.onDragEnd()};var r=[].concat(e);i.options=Nt({checkInput:!1,container:r.length>1?window:r[0],preventRightClick:!0,preventWheelClick:!0,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,o=s.container,a=s.events,c=s.checkWindowBlur;if(i.isTouch=a.indexOf("touch")>-1,i.isMouse=a.indexOf("mouse")>-1,i.targets=r,i.isMouse&&(r.forEach((function(t){K(t,"mousedown",i.onDragStart)})),K(o,"mousemove",i.onDrag),K(o,"mouseup",i.onDragEnd),K(o,"contextmenu",i.onDragEnd)),c&&K(window,"blur",i.onBlur),i.isTouch){var l={passive:!1};r.forEach((function(t){K(t,"touchstart",i.onDragStart,l)})),K(o,"touchmove",i.onDrag,l),K(o,"touchend",i.onDragEnd,l),K(o,"touchcancel",i.onDragEnd,l)}return i}!function(t,e){function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},n.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i&&this.onDrag(n,!0))},n.move=function(t,e){var n=t[0],i=t[1],r=this.getCurrentStore().prevClients;return this.moveClients(r.map((function(t){var e=t.clientX,r=t.clientY;return{clientX:e+n,clientY:r+i,originalClientX:e,originalClientY:r}})),e,!0)},n.triggerDragStart=function(t){this.onDragStart(t,!1)},n.setEventDatas=function(t){var e=this.datas;for(var n in t)e[n]=t[n];return this},n.getCurrentEvent=function(t){return Nt(Nt({datas:this.datas},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},n.getEventDatas=function(){return this.datas},n.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),tt(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){tt(e,"mousedown",t.onDragStart)})),tt(n,"mousemove",this.onDrag),tt(n,"mouseup",this.onDragEnd),tt(n,"contextmenu",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){tt(e,"touchstart",t.onDragStart)})),tt(n,"touchstart",this.onDragStart),tt(n,"touchmove",this.onDrag),tt(n,"touchend",this.onDragEnd),tt(n,"touchcancel",this.onDragEnd))},n.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var n=new Wt(Yt(t));this.pinchFlag=!0,this._addStore(n),!1===this.emit("pinchStart",Nt(Nt({datas:this.datas,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition()),{inputEvent:t}))&&(this.pinchFlag=!1)}},n.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Nt(Nt({datas:this.datas,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t}))}},n.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",Nt(Nt({datas:this.datas,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t}))}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(t,e,n){var i=this._getPosition(t,n);return(i.deltaX||i.deltaY)&&(this.isDrag=!0),Nt(Nt({datas:this.datas},i),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},n._addStore=function(t){this.clientStores.splice(0,0,t)},n._getPosition=function(t,e){var n=this.getCurrentStore().getPosition(t,e),i=this.clientStores.slice(1).reduce((function(t,e){var n=e.getPosition();return t.distX+=n.distX,t.distY+=n.distY,t}),n),r=i.distX,s=i.distY;return Nt(Nt({},n),{distX:r,distY:s})},e}(jt);var Ut=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Vt(t,e,n,i){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",t),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var i=n.trim();return(i?W(i):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?""+n.replace(/\:host/g,"."+t):n?"."+t+" "+n:"."+t})).join(", ")+" {"}))}(t,e,n),(i||document.head||document.body).appendChild(r),r}function Bt(t){var e,n="rCS"+Ut(t).toString(36),i=0;return{className:n,inject:function(r,s){void 0===s&&(s={});var o,a=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(r),c=0===i;return(a||c)&&(o=Vt(n,t,s,a)),c&&(e=o),a||++i,{destroy:function(){a?(r.removeChild(o),o=null):(i>0&&--i,0===i&&e&&(e.parentNode.removeChild(e),e=null))}}}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Jt=function(t,e){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Zt(t,e){function n(){this.constructor=t}Jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var qt=function(){return(qt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var Qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.injectResult=null,e.tag="div",e}Zt(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e;t.cspNonce;var i=t.portalContainer,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["className","cspNonce","portalContainer"]),s=this.injector.className,o=this.tag,a={};return"simple-1.1.0".indexOf("simple")>-1&&i&&(a={portalContainer:i}),ht(o,qt({ref:S(this,"element"),"data-styled-id":s,className:n+" "+s},a,r))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(wt);function Kt(t,e,n,i,r,s){for(var o=0;o<r;++o){var a=n+o*r,c=i+o*r;t[a]+=t[c]*s,e[a]+=e[c]*s}}function te(t,e,n,i,r){for(var s=0;s<r;++s){var o=n+s*r,a=i+s*r,c=t[o],l=e[o];t[o]=t[a],t[a]=c,e[o]=e[a],e[a]=l}}function ee(t,e,n,i,r){for(var s=0;s<i;++s){var o=n+s*i;t[o]/=r,e[o]/=r}}function ne(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var i=[],r=t.length/n,s=e.length/r;if(!r)return e;if(!s)return t;for(var o=0;o<n;++o)for(var a=0;a<s;++a){i[a*n+o]=0;for(var c=0;c<r;++c)i[a*n+o]+=t[c*n+o]*e[a*r+c]}return i}function ie(t,e){return ne(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function re(t,e){return ne(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function se(t,e){return ne(t,function(t,e){var n=Math.cos(t),i=Math.sin(t),r=le(e);return r[0]=n,r[1]=i,r[e]=-i,r[e+1]=n,r}(e,4))}function oe(t,e){var n=e[0],i=void 0===n?1:n,r=e[1],s=void 0===r?1:r,o=e[2];return ne(t,[i,0,0,0,0,s,0,0,0,0,void 0===o?1:o,0,0,0,0,1],4)}function ae(t,e){var n=e[0],i=void 0===n?0:n,r=e[1],s=void 0===r?0:r,o=e[2];return ne(t,[1,0,0,0,0,1,0,0,0,0,1,0,i,s,void 0===o?0:o,1],4)}function ce(t,e){return ne(t,e,4)}function le(t){for(var e=t*t,n=[],i=0;i<e;++i)n[i]=i%(t+1)?0:1;return n}function ue(t){return e=function(t){return(Y(t)?t:(e=t,H(e,""))).map((function(t){var e=function(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}(t),n=e.prefix,i=e.value,r=null,s=n,o="";if("translate"===n||"translateX"===n||"translate3d"===n){var a=W(i).map((function(t){return parseFloat(t)})),c=a[0],l=a[1],u=void 0===l?0:l,p=a[2];r=ae,o=[c,u,void 0===p?0:p]}else if("translateY"===n)r=ae,o=[0,u=parseFloat(i),0];else if("translateZ"===n)r=ae,o=[0,0,parseFloat(i)];else if("scale"===n||"scale3d"===n){var d=W(i).map((function(t){return parseFloat(t)})),h=d[0],f=d[1],v=void 0===f?h:f,y=d[2];r=oe,o=[h,v,void 0===y?1:y]}else if("scaleX"===n)r=oe,o=[h=parseFloat(i),1,1];else if("scaleY"===n)r=oe,o=[1,v=parseFloat(i),1];else if("scaleZ"===n)r=oe,o=[1,1,parseFloat(i)];else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var g=F(i),_=g.unit,m=g.value;"rotate"===n||"rotateZ"===n?(s="rotateZ",r=se):"rotateX"===n?r=ie:"rotateY"===n&&(r=re),o="rad"===_?m:m*Math.PI/180}else if("matrix3d"===n)r=ce,o=W(i).map((function(t){return parseFloat(t)}));else if("matrix"===n){var b=W(i).map((function(t){return parseFloat(t)}));r=ce,o=[b[0],b[1],0,0,b[2],b[3],0,0,0,0,1,0,b[4],b[5],0,1]}else s="";return{name:n,functionName:s,value:i,matrixFunction:r,functionValue:o}}));var e}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */(t),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.forEach((function(t){var e=t.matrixFunction,i=t.functionValue;e&&(n=e(n,i))})),n;var e,n}function pe(t,e){var n=function(t,e,n){void 0===n&&(n=e.length);var i=ne(t,e,n),r=i[n-1];return i.map((function(t){return t/r}))}(t,[e[0],e[1]||0,e[2]||0,1],4),i=n[3]||1;return[n[0]/i,n[1]/i,n[2]/i]}function de(t,e){void 0===e&&(e=document.body);for(var n=t,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n;){if(i=ce(ue(getComputedStyle(n).transform),i),n===e)break;n=n.parentElement}return(i=function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=le(e),r=0;r<e;++r){var s=e*r+r;if(!Z(n[s],1e-7))for(var o=r+1;o<e;++o)if(n[e*r+o]){te(n,i,r,o,e);break}if(!Z(n[s],1e-7))return[];for(ee(n,i,r,e,n[s]),o=0;o<e;++o){var a=o,c=n[o+r*e];Z(c,1e-7)&&r!==o&&Kt(n,i,a,r,e,-c)}}return i}(i,4))[12]=0,i[13]=0,i[14]=0,i}var he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return G.apply(void 0,["scena-"].concat(t))}ve("ruler");var ye,ge=ve("guide","adder"),_e=ve("guides"),me=ve("guide"),be=ve("dragging"),xe=ve("display-drag"),Ae=(ye="scena-",'\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guide-origin {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    top: 0;\n    left: 0;\n    opacity: 0;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n.display-drag {\n    position: absolute;\n    will-change: transform;\n    z-index: 2000;\n    font-weight: bold;\n    font-size: 12px;\n    display: none;\n    left: 20px;\n    top: -20px;\n    color: #f33;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'.replace(/([^}{]*){/gm,(function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+ye+"$1")+"{"}))),we=["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides"].concat(Dt),Ce=function(t,e){var n=Bt(e);return function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.injector=n,i.tag=t,i}return Zt(i,e),i}(Qt)}("div",Ae),Ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={guides:[]},e.scrollPos=0,e.guideElements=[],e.onDragStart=function(t){var n=t.datas,i=t.inputEvent,r=e.props.onDragStart;q(n.target,be),e.onDrag(t),r(fe({},t,{dragElement:n.target})),i.stopPropagation(),i.preventDefault()},e.onDrag=function(t){var n=e.movePos(t);return e.props.onDrag(fe({},t,{dragElement:t.datas.target})),n},e.onDragEnd=function(t){var n=t.datas,i=t.isDouble,r=t.distX,s=t.distY,o=e.movePos(t),a=e.state.guides,c=e.props,l=c.onChangeGuides,u=c.zoom,p=c.displayDragPos,d=c.digit,h=parseFloat((o/u).toFixed(d||0));if(p&&(e.displayElement.style.cssText+="display: none;"),Q(n.target,be),e.props.onDragEnd(fe({},t,{dragElement:n.target})),n.fromRuler)o>=e.scrollPos&&a.indexOf(h)<0&&e.setState({guides:a.concat([h])},(function(){l({guides:e.state.guides,distX:r,distY:s})}));else{var f=n.target.getAttribute("data-index");if(i||h<e.scrollPos)a.splice(f,1);else{if(a.indexOf(h)>-1)return;a[f]=h}e.setState({guides:a.slice()},(function(){var t=e.state.guides;l({distX:r,distY:s,guides:t})}))}},e}!function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=t.type,i=t.zoom,r=t.style,s=t.rulerStyle,o=t.displayDragPos,a=t.cspNonce,c=this.props,l=this.getTranslateName(),u={};return Dt.forEach((function(t){"style"!==t&&(u[t]=c[t])})),ht(Ce,{ref:S(this,"manager"),cspNonce:a,className:ve("manager",n)+" "+e,style:r},ht("div",{className:ve("guide-origin"),ref:S(this,"originElement")}),ht(kt,fe({ref:S(this,"ruler"),style:s},u)),ht("div",{className:_e,ref:S(this,"guidesElement"),style:{transform:l+"("+-this.scrollPos*i+"px)"}},o&&ht("div",{className:xe,ref:S(this,"displayElement")}),ht("div",{className:ge,ref:S(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var t=this,e=this.props,n=e.type,i=e.zoom,r=e.showGuides,s=this.getTranslateName(),o=this.state.guides;if(this.guideElements=[],r)return o.map((function(e,r){return ht("div",{className:ve("guide",n),ref:P(t,"guideElements",r),key:r,"data-index":r,"data-pos":e,style:{transform:s+"("+e*i+"px)"}})}))},n.componentDidMount=function(){var t=this;this.gesto=new It(this.manager.getElement(),{container:document.body}).on("dragStart",(function(e){var n,i,r=e.inputEvent.target,s=e.datas,o=t.ruler.canvasElement,a=t.guidesElement,c="horizontal"===t.props.type,l=t.originElement.getBoundingClientRect(),u=de(t.manager.getElement()),p=pe(u,[e.clientX-l.left,e.clientY-l.top]);if(p[0]-=a.offsetLeft,p[1]-=a.offsetTop,p[c?1:0]+=t.scrollPos*t.props.zoom,s.offsetPos=p,s.matrix=u,r===o)s.fromRuler=!0,s.target=t.adderElement;else{if(i=me,!((n=r).classList?n.classList.contains(i):n.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))))return e.stop(),!1;s.target=r}t.onDragStart(e)})).on("drag",this.onDrag).on("dragEnd",this.onDragEnd),this.setState({guides:this.props.defaultGuides||[]})},n.componentWillUnmount=function(){this.gesto.unset()},n.componentDidUpdate=function(t){t.defaultGuides!==this.props.defaultGuides&&this.setState({guides:this.props.defaultGuides||[]})},n.loadGuides=function(t){this.setState({guides:t})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(t){var e=this.props.zoom,n=this.guidesElement;this.scrollPos=t,n.style.transform=this.getTranslateName()+"("+-t*e+"px)";var i=this.state.guides;this.guideElements.forEach((function(e,n){e&&(e.style.display=-t+i[n]<0?"none":"block")}))},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.movePos=function(t){var e=t.datas,n=t.distX,i=t.distY,r=this.props,s=r.type,o=r.zoom,a=r.snaps,c=r.snapThreshold,l=r.displayDragPos,u=r.digit,p=r.dragPosFormat||function(t){return t},d="horizontal"===s,h=pe(e.matrix,[n,i]),f=e.offsetPos,v=h[0]+f[0],y=h[1]+f[1],g=Math.round(d?y:v),_=parseFloat((g/o).toFixed(u||0)),m=a.slice().sort((function(t,e){return Math.abs(_-t)-Math.abs(_-e)}));if(m.length&&Math.abs(m[0]*o-g)<c&&(g=(_=m[0])*o),l){var b="horizontal"===s?[v,g]:[g,y];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) translate("+b.map((function(t){return t+"px"})).join(", ")+")",this.displayElement.innerHTML=""+p(_)}return e.target.setAttribute("data-pos",_),e.target.style.transform=this.getTranslateName()+"("+g+"px)",g},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",zoom:1,style:{width:"100%",height:"100%"},snapThreshold:5,snaps:[],digit:0,onChangeGuides:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(t){return t},defaultGuides:[],showGuides:!0},e}(Ct),Se=function(t,e){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Pe(t,e){function n(){this.constructor=t}Se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $e=function(){return($e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var Ee=we,Oe=["getGuides","loadGuides","scroll","scrollGuides","resize"],De=["changeGuides","dragStart","drag","dragEnd"],ke=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}return Pe(e,t),e.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["container"]);return function(t,e){return ht(Gt,{element:t,container:e})}(ht(Ge,$e({ref:S(this,"guides")},n)),e)},e}(wt),Te=function(){return(Te=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pe(e,t),e}(function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.tempElement=document.createElement("div");var r={};return De.forEach((function(t){var e;r[(e="on "+t,e.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()})))]=function(e){return i.trigger(t,e)}})),Et(ht(ke,$e({},n,r,{container:e,ref:S(i,"innerGuides")})),i.tempElement),i}Pe(e,t);var n=e.prototype;return n.setState=function(t,e){this.innerGuides.setState(t,e)},n.destroy=function(){Et(null,this.tempElement),this.tempElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},e=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([$(Oe,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.getInnerGuides();if(i&&i[e])return i[e].apply(i,t)})})),$(Ee,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getInnerGuides().props[e]},set:function(t){var n;this.innerGuides.setState(((n={})[e]=t,n))},enumerable:!0,configurable:!0})}))],e)}(function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(X(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(X(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=V(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(Te({listener:e},n))},t}())),Le=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,Xe=(t,e,n,i)=>{for(var r,s=i>1?void 0:i?Ne(e,n):e,o=t.length-1;o>=0;o--)(r=t[o])&&(s=(i?r(e,n,s):r(s))||s);return i&&s&&Le(e,n,s),s};let Ye=class extends o{constructor(){super(...arguments),this.offset_=30,this.hStyle_={left:"30px",width:"calc(100% - 30px)",height:"30px"},this.vStyle_={top:"30px",height:"calc(100% - 30px)",width:"30px"}}changeVGuides(){this.vGuides_.loadGuides(this.syncVGuides.map((t=>t-30))||[])}changeHGuides(){this.hGuides_.loadGuides(this.syncHGuides.map((t=>t-30))||[])}mounted(){this.hGuides_=new je(this.$refs.hGuides,{type:"horizontal",displayDragPos:!0,dragPosFormat:t=>t+this.offset_}).on("changeGuides",(t=>{this.syncHGuides=t.guides.map((t=>t+this.offset_))})),this.vGuides_=new je(this.$refs.vGuides,{type:"vertical",displayDragPos:!0,dragPosFormat:t=>t+this.offset_}).on("changeGuides",(t=>{this.syncVGuides=t.guides.map((t=>t+this.offset_))})),this.hGuides_.scroll(this.offset_),this.hGuides_.loadGuides(this.syncHGuides.map((t=>t-this.offset_))||[]),this.vGuides_.scroll(this.offset_),this.vGuides_.loadGuides(this.syncVGuides.map((t=>t-this.offset_))||[])}beforeDestroy(){this.hGuides_.destroy(),this.vGuides_.destroy()}};Xe([v("vGuides")],Ye.prototype,"syncVGuides",2),Xe([v("hGuides")],Ye.prototype,"syncHGuides",2),Xe([y("syncVGuides")],Ye.prototype,"changeVGuides",1),Xe([y("syncVGuides")],Ye.prototype,"changeHGuides",1),Ye=Xe([l],Ye);const Me={};var ze=u(Ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"fixed",opacity:"0.6"}},[n("div",{staticStyle:{"background-color":"#444",wdith:"30px",height:"30px"}},[n("div",{ref:"hGuides",staticClass:"ruler horizontal",style:t.hStyle_}),n("div",{ref:"vGuides",staticClass:"ruler",style:t.vStyle_}),n("div",{staticClass:"lt-box"})])])}),[],!1,Re,"6a04a51b",null,null);function Re(t){for(let e in Me)this[e]=Me[e]}var He=function(){return ze.exports}();var We={convertToCss:function(t){return null==t||""===t?null:null!==t.match(/^\d+\%\+\d+px$/)?`calc(${t=t.replace("+"," + ")})`:null!==t.match(/^\d+\%\-\d+px$/)?`calc(${t=t.replace("-"," - ")})`:null!==t.match(/^\d+\%\*\d+px$/)?`calc(${t=t.replace("*"," * ")})`:null!==t.match(/^\d+\%\/\d+px$/)?`calc(${t=t.replace("/"," / ")})`:null!==t.match(/^\d+\%$/)||null!==t.match(/^\d+px$/)?t:null}},Fe=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,Ue=(t,e,n,i)=>{for(var r,s=i>1?void 0:i?Ie(e,n):e,o=t.length-1;o>=0;o--)(r=t[o])&&(s=(i?r(e,n,s):r(s))||s);return i&&s&&Fe(e,n,s),s};let Ve=class extends o{dropCalcExp(t){if(void 0!==t)return t.toString().replace("calc(","").replace(")","").replaceAll(" ","")}val(t){return void 0===this.syncAttr[t]||"inherit"===this.syncAttr[t]||"initial"===this.syncAttr[t]?"--":"number"==typeof this.syncAttr[t]?this.syncAttr[t]:"string"==typeof this.syncAttr[t]?3===this.syncAttr[t].split(" ").length?this.syncAttr[t].split(" ")[0].replace("px","").replace("%",""):this.syncAttr[t].replace("px","").replace("%",""):"?"}onUpdateX(){let t=prompt("Offset from left(pixel), ex: 100px",this.syncX)||"";""!==t&&(t=t.replace("px",""),isNaN(+t)||(this.syncX=+t),this.$nextTick((()=>{-1!==this.syncX&&(this.syncR=-1)})))}onUpdateY(){let t=prompt("Offset from top(pixel), ex: 100px",this.syncY)||"";""!==t&&(t=t.replace("px",""),isNaN(+t)||(this.syncY=+t),this.$nextTick((()=>{-1!==this.syncY&&(this.syncB=-1)})))}onUpdateR(){let t=prompt("Offset from right(pixel), ex: 100px",this.syncR)||"";""!==t&&(t=t.replace("px",""),isNaN(+t)||(this.syncR=+t),this.$nextTick((()=>{-1!==this.syncR&&(this.syncX=-1)})))}onUpdateB(){let t=prompt("Offset from bottom(pixel), ex: 100px",this.syncB)||"";""!==t&&(t=t.replace("px",""),isNaN(+t)||(this.syncB=+t),this.$nextTick((()=>{-1!==this.syncB&&(this.syncY=-1)})))}onUpdateW(){let t=prompt("Grid width, ex:100px, 100%, 100%-60px",this.syncW);null!=t&&(null===t.match(/^\d+\%$/)&&null===t.match(/^\d+\%\s?(\-)?\s?\d+px$/)?(t=t.replace("px",""),isNaN(+t)||(this.syncW=+t)):this.syncW=t)}onUpdateH(){let t=prompt("Grid height, ex:100px, 100%, 100%-60px",this.syncH);null!=t&&(null===t.match(/^\d+\%$/)&&null===t.match(/^\d+\%\s?(\-)?\s?\d+px$/)?(t=t.replace("px",""),isNaN(+t)||(this.syncH=+t)):this.syncH=t)}onUpdateAttr(t){switch(t){case"left":case"top":case"width":case"height":const e=`input ${t} value, ex: 100px, 100%, 100%-64px`,n=this.dropCalcExp(this.syncAttr[t])||"";let i=(prompt(e,n)||"").replaceAll(" ","");const r=We.convertToCss(i);r&&(this.syncAttr[t]=r);break;default:{const e=prompt("Please input value",this.syncAttr[t]);if(null==e)return;this.syncAttr[t]=e;break}}}};Ue([f({default:[null,null,null,null]})],Ve.prototype,"layerXYWH",2),Ue([f({default:-1})],Ve.prototype,"panel",2),Ue([v("attr")],Ve.prototype,"syncAttr",2),Ue([v("x")],Ve.prototype,"syncX",2),Ue([v("y")],Ve.prototype,"syncY",2),Ue([v("r")],Ve.prototype,"syncR",2),Ue([v("b")],Ve.prototype,"syncB",2),Ue([v("w")],Ve.prototype,"syncW",2),Ue([v("h")],Ve.prototype,"syncH",2),Ve=Ue([l],Ve);const Be={};var Je=u(Ve,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sr-unselectable",staticStyle:{display:"flex","justify-content":"center"}},[n("div",{staticStyle:{"margin-top":"16px"}},[t.syncAttr?n("div",{staticStyle:{height:"36px"}},[void 0!==t.syncAttr.left?n("div",{staticClass:"xy",attrs:{title:t.syncAttr.left},on:{click:function(e){return t.onUpdateAttr("left")}}},[t._v(" left="+t._s(t.dropCalcExp(t.syncAttr.left))+" "),t.layerXYWH[0]&&0===t.panel?n("span",{staticClass:"layerxywh"},[t._v(t._s("("+t.layerXYWH[0]+")"))]):t._e()]):t._e(),void 0!==t.syncAttr.top?n("div",{staticClass:"xy",attrs:{title:t.syncAttr.top},on:{click:function(e){return t.onUpdateAttr("top")}}},[t._v(" top="+t._s(t.dropCalcExp(t.syncAttr.top))+" "),t.layerXYWH[1]&&0===t.panel?n("span",{staticClass:"layerxywh"},[t._v(t._s("("+t.layerXYWH[1]+")"))]):t._e()]):t._e(),void 0!==t.syncX&&void 0!==t.syncY?n("div",[n("div",{staticClass:"xy",attrs:{title:t.syncX},on:{click:t.onUpdateX}},[t._v("left="+t._s(t.syncX))]),n("div",{staticClass:"xy",attrs:{title:t.syncY},on:{click:t.onUpdateY}},[t._v("top="+t._s(t.syncY))])]):t._e()]):t._e(),n("div",{staticClass:"gap-margin sr-vhc"},[n("div",{staticClass:"gap-border sr-vhc"},[n("div",{staticClass:"gap-padding sr-vhc"},[n("div",{staticClass:"gap-rect sr-vhc"},[n("span",{staticClass:"gap-text",staticStyle:{left:"10px",top:"10px"},attrs:{title:t.syncAttr["border-top-left-radius"]},on:{click:function(e){return t.onUpdateAttr("border-top-left-radius")}}},[t._v(t._s(t.val("border-top-left-radius")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"180px",top:"10px"},attrs:{title:t.syncAttr["border-top-right-radius"]},on:{click:function(e){return t.onUpdateAttr("border-top-right-radius")}}},[t._v(t._s(t.val("border-top-right-radius")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"180px",bottom:"10px"},attrs:{title:t.syncAttr["border-bottom-right-radius"]},on:{click:function(e){return t.onUpdateAttr("border-bottom-right-radius")}}},[t._v(t._s(t.val("border-bottom-right-radius")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"10px",bottom:"10px"},attrs:{title:t.syncAttr["border-bottom-left-radius"]},on:{click:function(e){return t.onUpdateAttr("border-bottom-left-radius")}}},[t._v(t._s(t.val("border-bottom-left-radius")))]),n("span",{staticClass:"gap-label",staticStyle:{left:"40px",top:"0"}},[t._v("margin")]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",top:"0"},attrs:{title:t.syncAttr["margin-top"]},on:{click:function(e){return t.onUpdateAttr("margin-top")}}},[t._v(t._s(t.val("margin-top")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"182px",top:"100px"},attrs:{title:t.syncAttr["margin-right"]},on:{click:function(e){return t.onUpdateAttr("margin-right")}}},[t._v(t._s(t.val("margin-right")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",bottom:"0"},attrs:{title:t.syncAttr["margin-bottom"]},on:{click:function(e){return t.onUpdateAttr("margin-bottom")}}},[t._v(t._s(t.val("margin-bottom")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"2px",top:"100px"},attrs:{title:t.syncAttr["margin-left"]},on:{click:function(e){return t.onUpdateAttr("margin-left")}}},[t._v(t._s(t.val("margin-left")))]),n("span",{staticClass:"gap-label",staticStyle:{left:"40px",top:"20px"}},[t._v("border")]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",top:"20px"},attrs:{title:t.syncAttr["border-top"]},on:{click:function(e){return t.onUpdateAttr("border-top")}}},[t._v(t._s(t.val("border-top")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"162px",top:"100px"},attrs:{title:t.syncAttr["border-right"]},on:{click:function(e){return t.onUpdateAttr("border-right")}}},[t._v(t._s(t.val("border-right")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",bottom:"20px"},attrs:{title:t.syncAttr["border-bottom"]},on:{click:function(e){return t.onUpdateAttr("border-bottom")}}},[t._v(t._s(t.val("border-bottom")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"22px",top:"100px"},attrs:{title:t.syncAttr["border-left"]},on:{click:function(e){return t.onUpdateAttr("border-left")}}},[t._v(t._s(t.val("border-left")))]),n("span",{staticClass:"gap-label",staticStyle:{left:"40px",top:"40px"}},[t._v("padding")]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",top:"40px"},attrs:{title:t.syncAttr["padding-top"]},on:{click:function(e){return t.onUpdateAttr("padding-top")}}},[t._v(t._s(t.val("padding-top")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"142px",top:"100px"},attrs:{title:t.syncAttr["padding-right"]},on:{click:function(e){return t.onUpdateAttr("padding-right")}}},[t._v(t._s(t.val("padding-right")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"100px",bottom:"40px"},attrs:{title:t.syncAttr["padding-bottom"]},on:{click:function(e){return t.onUpdateAttr("padding-bottom")}}},[t._v(t._s(t.val("padding-bottom")))]),n("span",{staticClass:"gap-text",staticStyle:{left:"42px",top:"100px"},attrs:{title:t.syncAttr["padding-left"]},on:{click:function(e){return t.onUpdateAttr("padding-left")}}},[t._v(t._s(t.val("padding-left")))]),void 0!==t.syncW?n("div",{staticClass:"gap-text w-text",attrs:{title:t.syncW},on:{click:t.onUpdateW}},[t._v(t._s(t.syncW))]):t._e(),void 0!==t.syncH?n("div",{staticClass:"gap-text h-text",attrs:{title:t.syncH},on:{click:t.onUpdateH}},[t._v(t._s(t.syncH))]):t._e(),void 0!==t.syncAttr.width?n("div",{staticClass:"gap-text w-text",attrs:{title:t.syncAttr.width},on:{click:function(e){return t.onUpdateAttr("width")}}},[t._v(t._s(t.dropCalcExp(t.syncAttr.width)))]):t._e(),t.layerXYWH[2]&&0===t.panel?n("div",{staticClass:"gap-text w-layer-text"},[t._v(t._s("("+t.layerXYWH[2]+")"))]):t._e(),void 0!==t.syncAttr.height?n("div",{staticClass:"gap-text h-text",attrs:{title:t.syncAttr.height},on:{click:function(e){return t.onUpdateAttr("height")}}},[t._v(t._s(t.dropCalcExp(t.syncAttr.height)))]):t._e(),t.layerXYWH[3]&&0===t.panel?n("div",{staticClass:"gap-text h-layer-text"},[t._v(t._s("("+t.layerXYWH[3]+")"))]):t._e()])])])]),t.syncAttr?n("div",{staticClass:"pp-row",staticStyle:{height:"24px","justify-content":"flex-end"}},[void 0!==t.syncX&&void 0!==t.syncY?n("div",[n("span",{staticClass:"xy",attrs:{title:t.syncR},on:{click:t.onUpdateR}},[t._v("right="+t._s(t.syncR))]),n("span",{staticClass:"mr-3"},[t._v(",")]),n("span",{staticClass:"xy",attrs:{title:t.syncB},on:{click:t.onUpdateB}},[t._v("bottom="+t._s(t.syncB))])]):t._e()]):t._e()])])}),[],!1,Ze,"ebb12a30",null,null);function Ze(t){for(let e in Be)this[e]=Be[e]}var qe=function(){return Je.exports}(),Qe=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,tn=(t,e,n,i)=>{for(var r,s=i>1?void 0:i?Ke(e,n):e,o=t.length-1;o>=0;o--)(r=t[o])&&(s=(i?r(e,n,s):r(s))||s);return i&&s&&Qe(e,n,s),s};let en=class extends o{constructor(){super(...arguments),this.panel_=0,this.search_="",this.openTP_=!1,this.activeTabId_="TabLayer",this.deviceTypes_=["Smartphone","Tablet","Laptop","Desktop","Ultra"]}changeActiveGrid(){switch(this.syncActiveGrid){case null:break;default:this.panel_=2,this.activeTabId_=`TabGrid${this.syncActiveGrid}`}}changeSelectArea(){switch(this.panel_=this.syncSelectArea,this.syncSelectArea){case 0:case 1:this.activeTabId_="TabLayer"}}changePanel(){this.syncGrid.length&&2===this.panel_&&!1===Number.isInteger(this.syncActiveGrid)&&(this.syncActiveGrid=0)}get style4LayerTab(){return{borderBottom:0===this.panel_?"2px solid #0078d4":"initial"}}get style4LayoutTab(){return{borderBottom:1===this.panel_?"2px solid #0078d4":"initial"}}get style4Tabls(){return{position:"absolute",backgroundColor:"#f5f5f5",left:1===this.syncPosLR?"298px":null,right:2===this.syncPosLR?"298px":null,borderTopRightRadius:1===this.syncPosLR?"5px":"0",borderBottomRightRadius:1===this.syncPosLR?"5px":"0",borderTopLeftRadius:2===this.syncPosLR?"5px":"0",borderBottomLeftRadius:2===this.syncPosLR?"5px":"0"}}get style4MinMaxPanel(){return{left:1===this.syncPosLR?this.syncMaxify?"30px":"-500px":null,right:2===this.syncPosLR?this.syncMaxify?"0px":"-500px":null,width:"300px"}}get disableStyleAction(){return!(2===this.panel_&&Number.isInteger(this.syncActiveGrid)&&this.syncHasStyle)}get disableStyleButton(){return!(2===this.panel_&&Number.isInteger(this.syncActiveGrid))}mounted(){window.addEventListener("message",this.recvTempateMessage)}beforeDestroy(){window.removeEventListener("message",this.recvTempateMessage)}recvTempateMessage(t){if("http://localhost:3000"===t.origin)switch(t.data.event){case"/v2/browser/apply/template":this.openTP_=!1,this.$emit("template",t.data);break;case"/v2/browser/close/template":this.openTP_=!1}}onSelectGrid(t){this.$emit("area",2),this.syncActiveGrid=t}};tn([f({default:[null,null,null,null]})],en.prototype,"layerXYWH",2),tn([v("active")],en.prototype,"syncActive",2),tn([v("layer")],en.prototype,"syncLayer",2),tn([v("layout")],en.prototype,"syncLayout",2),tn([v("grid")],en.prototype,"syncGrid",2),tn([v("activeGrid")],en.prototype,"syncActiveGrid",2),tn([v("selectArea")],en.prototype,"syncSelectArea",2),tn([v("vGuides")],en.prototype,"syncVGuides",2),tn([v("hGuides")],en.prototype,"syncHGuides",2),tn([v("maxify")],en.prototype,"syncMaxify",2),tn([v("posLR")],en.prototype,"syncPosLR",2),tn([v("hasStyle")],en.prototype,"syncHasStyle",2),tn([y("syncActiveGrid")],en.prototype,"changeActiveGrid",1),tn([y("syncSelectArea")],en.prototype,"changeSelectArea",1),tn([y("panel_")],en.prototype,"changePanel",1),en=tn([l({components:{PropertyEdit:C,Guides:He,Gap:qe}})],en);const nn={};var rn=u(en,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"basic sr-unselectable",style:t.style4MinMaxPanel,on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"config-panel-btn"},[t.syncMaxify?n("i",{staticClass:"ms-Icon ms-Icon--RedEye",on:{click:function(e){t.syncMaxify=!0}}}):n("i",{staticClass:"ms-Icon ms-Icon--Hide3",on:{click:function(e){t.syncMaxify=!1}}})]),t.openTP_?n("iframe",{staticClass:"iframe-template",attrs:{src:"template.html"}}):t._e(),n("div",{staticStyle:{width:"100%",height:"38px"}},[n("fluent-text-field",{directives:[{name:"show",rawName:"v-show",value:t.syncMaxify,expression:"syncMaxify"}],staticStyle:{width:"100%","font-size":"14px"},attrs:{value:t.search_},on:{input:function(e){return t.search_=e.target.value}}},[n("i",{staticClass:"ms-Icon ms-Icon--Search",attrs:{slot:"end"},slot:"end"})])],1),n("fluent-select",{staticClass:"device-select",on:{change:function(e){return t.syncActive=e.target.value}}},t._l(t.deviceTypes_,(function(e,i){return n("fluent-option",{key:i,attrs:{selected:+t.syncActive===i,value:i}},[t._v(t._s(e))])})),1),n("fluent-tabs",{style:t.style4Tabls,attrs:{activeIndicator:"false",activeId:t.activeTabId_,orientation:"vertical"}},[n("fluent-tab",{on:{click:function(e){return t.$emit("area",0)}}},[n("pp-icon",{attrs:{icon:"MapLayers"}}),n("span",{staticClass:"tab-text",style:t.style4LayerTab},[t._v("Layer")])],1),t._l(t.syncGrid,(function(e,i){return n("fluent-tab",{key:"tab-"+i,on:{click:function(e){return t.onSelectGrid(i)}}},[n("pp-icon",{attrs:{icon:"SnapToGrid"}}),n("span",{staticClass:"tab-text",style:{borderBottom:t.activeTabId_==="TabGrid"+i?"2px solid #0078d4":"initial"}},[t._v("Grid"+t._s(i+1))])],1)})),n("fluent-tab-panel",{attrs:{id:"TabPanelLayer"}}),t._l(t.syncGrid.length,(function(t){return n("fluent-tab-panel",{key:"tab-panel"+t,attrs:{id:"TabPanelGrid"+t}})}))],2),0===t.panel_?n("Gap",{attrs:{panel:t.panel_,attr:t.syncLayer,layerXYWH:t.layerXYWH},on:{"update:attr":function(e){t.syncLayer=e}}}):t._e(),1===t.panel_?n("Gap",{attrs:{panel:t.panel_,attr:t.syncLayout,layerXYWH:t.layerXYWH},on:{"update:attr":function(e){t.syncLayout=e}}}):t._e(),2===t.panel_&&Number.isInteger(t.syncActiveGrid)?n("Gap",{attrs:{panel:t.panel_,attr:t.syncGrid[t.syncActiveGrid].style,layerXYWH:t.layerXYWH,x:t.syncGrid[t.syncActiveGrid].x,y:t.syncGrid[t.syncActiveGrid].y,r:t.syncGrid[t.syncActiveGrid].r,b:t.syncGrid[t.syncActiveGrid].b,w:t.syncGrid[t.syncActiveGrid].w,h:t.syncGrid[t.syncActiveGrid].h},on:{"update:attr":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"style",e)},"update:x":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"x",e)},"update:y":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"y",e)},"update:r":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"r",e)},"update:b":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"b",e)},"update:w":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"w",e)},"update:h":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"h",e)}}}):t._e(),n("div",{staticStyle:{width:"100%",height:"9px"}}),n("div",{staticClass:"details",staticStyle:{"overflow-y":"auto"},style:{height:"calc(100% - 426px)"}},[0===t.panel_?n("property-edit",{attrs:{attr:t.syncLayer,search:t.search_},on:{"update:attr":function(e){t.syncLayer=e},"update:search":function(e){t.search_=e}}}):t._e(),2===t.panel_&&Number.isInteger(t.syncActiveGrid)?n("property-edit",{attrs:{attr:t.syncGrid[t.syncActiveGrid],search:t.search_},on:{"update:attr":function(e){return t.$set(t.syncGrid,t.syncActiveGrid,e)},"update:search":function(e){t.search_=e}}}):t._e(),2===t.panel_&&Number.isInteger(t.syncActiveGrid)?n("property-edit",{attrs:{attr:t.syncGrid[t.syncActiveGrid].style,search:t.search_},on:{"update:attr":function(e){return t.$set(t.syncGrid[t.syncActiveGrid],"style",e)},"update:search":function(e){t.search_=e}}}):t._e()],1),n("div",{staticStyle:{width:"100%",height:"40px"}},[n("fluent-button",{staticStyle:{width:"100%"},attrs:{appearance:"accent",disabled:t.disableStyleButton},on:{click:function(e){t.openTP_=!0}}},[t._v(" Open Template Panel "),n("i",{staticClass:"ms-Icon ms-Icon--WebTemplate",attrs:{slot:"start"},slot:"start"})])],1),n("fluent-button",{attrs:{appearance:"accent"}},[n("i",{staticClass:"ms-Icon ms-Icon--BuildQueueNew fun-btn",on:{click:function(e){return t.$emit("new")}}})]),n("fluent-button",{attrs:{appearance:"accent"}},[n("i",{staticClass:"ms-Icon ms-Icon--Delete fun-btn",on:{click:function(e){return t.$emit("del")}}})]),n("fluent-button",{attrs:{appearance:"accent",disabled:t.disableStyleButton}},[n("i",{staticClass:"ms-Icon ms-Icon--Code fun-btn",on:{click:function(e){return t.$emit("source")}}})]),n("fluent-button",{attrs:{appearance:"accent",disabled:t.disableStyleButton}},[n("i",{staticClass:"ms-Icon ms-Icon--Copy fun-btn",on:{click:function(e){return t.$emit("copy")}}})]),n("fluent-button",{attrs:{appearance:"accent",disabled:t.disableStyleAction}},[n("i",{staticClass:"ms-Icon ms-Icon--Paste fun-btn",on:{click:function(e){return t.$emit("paste")}}})]),n("fluent-button",{attrs:{appearance:"accent"}},[n("i",{staticClass:"ms-Icon ms-Icon--Save fun-btn",on:{click:function(e){return t.$emit("save")}}})]),t.syncMaxify?n("Guides",{attrs:{vGuides:t.syncVGuides,hGuides:t.syncHGuides},on:{"update:vGuides":function(e){t.syncVGuides=e},"update:v-guides":function(e){t.syncVGuides=e},"update:hGuides":function(e){t.syncHGuides=e},"update:h-guides":function(e){t.syncHGuides=e}}}):t._e()],1)}),[],!1,sn,"75f408f3",null,null);function sn(t){for(let e in nn)this[e]=nn[e]}var on=function(){return rn.exports}(),an=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,ln=(t,e,n,i)=>{for(var r,s=i>1?void 0:i?cn(e,n):e,o=t.length-1;o>=0;o--)(r=t[o])&&(s=(i?r(e,n,s):r(s))||s);return i&&s&&an(e,n,s),s};let un=class extends o{constructor(){super(...arguments),this.render_=!0,this.subvue_=[],this.viewActive_=3,this.editActive_=3,this.mxgrid_=[],this.mxsize_=[],this.layer_=[],this.layout_=[],this.grid_=[],this.vguides_=[],this.hguides_=[],this.activeGrid_=null,this.selectArea_=0,this.hasStyle_=!1,this.layoutW_=0,this.layoutH_=0,this.layoutReady_=!1,this.layerX_=null,this.layerY_=null,this.layerW_=null,this.layerH_=null}get layerStyle(){const t=JSON.parse(JSON.stringify(this.layer_[this.__Active()]));return null!==this.layerX_&&this.replaceLayerAttribute(t,"left",this.layerX_),null!==this.layerY_&&this.replaceLayerAttribute(t,"top",this.layerY_),null!==this.layerW_&&this.replaceLayerAttribute(t,"width",this.layerW_),null!==this.layerH_&&this.replaceLayerAttribute(t,"height",this.layerH_),t}replaceLayerAttribute(t,e,n){const i=We.convertToCss(n);i?t[e]=i:console.warn(`<GenericView> invalid ${e}=${n}`)}handleState(t){}gridLabelStyle(t){return{top:`calc(${t.h}${-1===t.h.toString().indexOf("%")?"px":""} - 16px - ${t.style["padding-top"]})`,"padding-right":t.style["padding-left"],"padding-left":t.style["padding-right"]}}created(){this.$createLayout(this.syncVisualize),(this.subvue_||[]).forEach((t=>{o.component(t.tag,t.c)})),this.$$created(),window.addEventListener("resize",this.__Resize.bind(this)),window.addEventListener("load",this.__Resize.bind(this)),this.designtool_||this.__Resize({target:{innerWidth:window.innerWidth}})}mounted(){this.__cacheLayoutSize(),this.hasStyle_=void 0!==this.__getStyle()}beforeDestroy(){this.$$beforeDestroy(),window.removeEventListener("resize",this.__Resize.bind(this)),window.removeEventListener("load",this.__Resize.bind(this))}reflash(){this.layoutReady_=!1,this.$nextTick((()=>this.__cacheLayoutSize()))}async onDispatch(t){var e;const n=this.$parent;try{void 0!==this.syncVxMAction[t.action]?await this.syncVxMAction[t.action](n,null!=(e=t.param)?e:{}):console.warn(`VxM dispatch fail: ${t.action}() (${n.$$alias()}.vue)`)}catch(i){console.error(`VxM exception : ${i.message} (${n.$$alias()}.vue)`)}}$createLayout(t){this.render_=!0,this.subvue_=t.SubVue,this.viewActive_=t.Active,this.editActive_=t.Active,this.mxgrid_=t.MxGrid,this.mxsize_=t.MxSize,this.layer_=t.Layer,this.layout_=t.Layout,this.grid_=t.Grid,this.vguides_=t.VGuides,this.hguides_=t.HGuides,this.activeGrid_=null,this.selectArea_=0}layerXChange(){this.layoutReady_&&this.reflash()}layerYChange(){this.layoutReady_&&this.reflash()}layerWChange(){this.layoutReady_&&this.reflash()}layerHChange(){this.layoutReady_&&this.reflash()}__activeChange(){this.render_=!1,this.$nextTick((()=>this.render_=!0))}get __finalArea(){return null!==this.activeGrid_?2:this.selectArea_}get __openDesignTool(){this.reflash();const t=this.$$fsm().stateName().split(".")[0].split("/").map((t=>function(t){return""===t?"":`${t.charAt(0).toUpperCase()}${t.slice(1)}`}(t))),e=this.$parent;return this.designtool_>0&&e.$$alias()===t.join("")}get __allGridZero(){return this.mxgrid_.every((t=>0===t))}__Resize(t){if(this.__cacheLayoutSize(),0===this.mxgrid_.length)return;const e=(n=t.target.innerWidth)<600?0:n>=600&&n<960?1:n>=960&&n<1264?2:n>=1264&&n<1904?3:n>=1904?4:null;var n;if(null===e)return;if(this.mxgrid_[e]>0)return void(this.viewActive_=e);const i=this.mxgrid_.length;for(let r=1;r<=i&&!(e-r<0);++r)if(this.mxgrid_[e-r]>0)return void(this.viewActive_=e-r);for(let r=1;r<=i&&!(e+r>i);++r)if(this.mxgrid_[e+r]>0)return void(this.viewActive_=e+r);this.viewActive_=e}__Active(){return this.__openDesignTool?this.editActive_:this.viewActive_}__Layout(){const t=this.$parent,e=`http://${document.domain}:5555`,n={method:"POST",body:JSON.stringify({path:`./src/views/${t.$$alias()}`,name:t.$$alias(),file:`./src/views/${t.$$alias()}/_Layout.ts`,active:this.editActive_,mxgrid:this.mxgrid_,mxsize:this.mxsize_,layer:this.layer_,layout:this.layout_,grid:this.grid_,vguides:this.vguides_,hguides:this.hguides_},null,2)};fetch(e,n)}__Template(t){if(null===this.activeGrid_)return;const e=this.$parent,n=`http://${document.domain}:5555/template`,i=this.grid_[this.__Active()][this.activeGrid_].comp,r={method:"POST",body:JSON.stringify({path:`./src/views/${e.$$alias()}`,name:e.$$alias(),file:`./src/views/${e.$$alias()}/_Layout.ts`,active:this.editActive_,mxgrid:this.mxgrid_,mxsize:this.mxsize_,layer:this.layer_,layout:this.layout_,grid:this.grid_,vguides:this.vguides_,hguides:this.hguides_,componentFile:`./src/views/${e.$$alias()}/${i}.vue`,componentName:i,selectedGrid:this.activeGrid_,templateName:t.payload.template},null,2)};fetch(n,r)}__NewGrid(){const t=this.$parent;this.mxgrid_[this.editActive_]+=1,this.grid_[this.editActive_].push({x:0,y:0,r:-1,b:-1,w:"100%",h:"100%",comp:`${this.mxsize_[this.editActive_]}${t.$$alias()}Comp${this.mxgrid_[this.editActive_]}`,style:{"margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"0px","border-top":"initial","border-right":"initial","border-bottom":"initial","border-left":"initial","border-top-left-radius":"initial","border-top-right-radius":"initial","border-bottom-left-radius":"initial","border-bottom-right-radius":"initial","background-color":this.$$rgb(),"box-shadow":"rgba(0, 0, 0, 0.1) 0 0 4px",opacity:1}}),this.__Layout()}__DelGrid(t){this.grid_[this.editActive_].splice(t,1),this.__Layout()}__resizeGrid(t,e,n,i,r){-1===t.r&&(t.x=e),-1===t.b&&(t.y=n),t.w=i,t.h=r}__dragGrid(t,e,n){-1===t.r&&(t.x=e),-1===t.b&&(t.y=n)}__stopDragGrid(t){-1!==t.x&&(t.r=-1),-1!==t.y&&(t.b=-1)}__stopResizeGrid(t,e){this.__keepGrid(t),this.__stopDragGrid(e)}__clickGrid(t){this.__openDesignTool&&(this.selectArea_=2,t.stopPropagation())}__gridActived(t){this.__openDesignTool&&(this.activeGrid_=t)}__keepGrid(t){this.__openDesignTool&&setTimeout((()=>{this.activeGrid_=t}),50)}__keepLayout(t){this.__openDesignTool&&(t.stopPropagation(),this.selectArea_=1,this.activeGrid_=null)}__keepLayer(t){this.__openDesignTool&&(t.stopPropagation(),this.selectArea_=0,this.activeGrid_=null,this.reflash())}__gridPosValue(t,e,n,i){let r;switch(t){case-1:{const t=this.__gridDimValue(n,i);return"number"==typeof e?r=i-e-t:!1===isNaN(+e)&&(r=i-+e-t),r}default:return"number"==typeof t?r=t:!1===isNaN(+t)&&(r=+t),r}}__gridDimValue(t,e){let n;if(null!==t.toString().match(/^\d+\%\s?(\-)?\s?\d+px$/)){const i=t.replaceAll(" ","").split("-");let r=this.ratioToPixel(i[0],e);const s=+i[1].replace("px",""),o="number"==typeof s;"number"==typeof r&&o&&(n=r-s)}else if(null!==t.toString().match(/^\d+\%$/)){const i=this.ratioToPixel(t,e);"number"==typeof i&&(n=i)}else"number"==typeof t?n=t:!1===isNaN(+t)&&(n=+t);if(void 0===n)throw console.error(`retval=${n}, [grid size] value=${t}, layout=${e}`),new Error("convert grid size failure");return n}__cacheLayoutSize(){const t=this.$refs["el-layout"];if(!t)return;const e=t.getBoundingClientRect();this.layoutW_=e.width||0,this.layoutH_=e.height||0,this.layoutReady_=!0}ratioToPixel(t,e){if(void 0===e)throw console.error(`[ratioToPixel] invalid layoutWH=${e}`),new Error("invalid layout size value");if(null!==t.replaceAll(" ","").match(/^\d+\%$/)){return e*(+t.replace("%","")/100)}throw console.error(`[ratioToPixel] invalid value=${t}`),new Error("invalid precnet value format")}__gridHandles(t,e){return!1===isNaN(+t)&&!1===isNaN(+e)?["tl","tm","tr","mr","br","bm","bl","ml"]:[]}__Copy(){try{if(null===this.activeGrid_||void 0===this.activeGrid_)return;const t=JSON.parse(JSON.stringify(this.grid_[this.editActive_][this.activeGrid_]));delete t.comp;const e=this.__setStyle({layer:JSON.parse(JSON.stringify(this.layer_[this.editActive_])),layout:JSON.parse(JSON.stringify(this.layout_[this.editActive_])),grid:JSON.parse(JSON.stringify(t))});this.hasStyle_=e}catch(t){console.error(`fixme pls: ${t.stack}`)}}__Paste(){if(null===this.activeGrid_)return;const t=this.__getStyle();this.$set(this.layer_,this.editActive_,t.layer),this.$set(this.layout_,this.editActive_,t.layout),this.grid_[this.editActive_][this.activeGrid_]=s(s({},this.grid_[this.editActive_][this.activeGrid_]),t.grid)}__Source(){if(null===this.activeGrid_)return;const t=this.$parent,e=this.grid_[this.__Active()][this.activeGrid_].comp,n=`http://${document.domain}:5555/source/open?file=./src/views/${t.$$alias()}/${e}.vue`;fetch(n)}__Area(t){this.selectArea_=t,2!==t&&(this.activeGrid_=null)}};ln([p()],un.prototype,"designtool_",2),ln([v("VxMAction")],un.prototype,"syncVxMAction",2),ln([v("Visualize")],un.prototype,"syncVisualize",2),ln([y("layerX_")],un.prototype,"layerXChange",1),ln([y("layerY_")],un.prototype,"layerYChange",1),ln([y("layerW_")],un.prototype,"layerWChange",1),ln([y("layerH_")],un.prototype,"layerHChange",1),ln([y("viewActive_")],un.prototype,"__activeChange",1),un=ln([l({components:{Properties:on}})],un);const pn={};var dn=u(un,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"sr-design-grid":t.__openDesignTool&&1===t.__finalArea},style:t.layerStyle,on:{click:t.__keepLayer}},[t.__openDesignTool?n("properties",{attrs:{active:t.editActive_,layer:t.layer_[t.editActive_],layerXYWH:[t.layerX_,t.layerY_,t.layerW_,t.layerH_],layout:t.layout_[t.editActive_],grid:t.grid_[t.editActive_],vGuides:t.vguides_[t.editActive_],hGuides:t.hguides_[t.editActive_],activeGrid:t.activeGrid_,maxify:1===parseInt(t.designtool_/10),posLR:parseInt(t.designtool_%10),selectArea:t.__finalArea,hasStyle:t.hasStyle_},on:{"update:active":function(e){t.editActive_=e},"update:layer":function(e){return t.$set(t.layer_,t.editActive_,e)},"update:layout":function(e){return t.$set(t.layout_,t.editActive_,e)},"update:grid":function(e){return t.$set(t.grid_,t.editActive_,e)},"update:vGuides":function(e){return t.$set(t.vguides_,t.editActive_,e)},"update:v-guides":function(e){return t.$set(t.vguides_,t.editActive_,e)},"update:hGuides":function(e){return t.$set(t.hguides_,t.editActive_,e)},"update:h-guides":function(e){return t.$set(t.hguides_,t.editActive_,e)},"update:activeGrid":function(e){t.activeGrid_=e},"update:active-grid":function(e){t.activeGrid_=e},new:function(e){return t.__NewGrid()},del:function(e){return t.__DelGrid(t.activeGrid_)},save:function(e){return t.__Layout()},area:t.__Area,copy:function(e){return t.__Copy()},paste:function(e){return t.__Paste()},source:function(e){return t.__Source()},template:t.__Template}}):t._e(),t.render_?n("div",{ref:"el-layout",class:{"sr-design-grid":t.__openDesignTool&&2===t.__finalArea,"sr-active-grid":t.__openDesignTool&&1===t.__finalArea},staticStyle:{position:"relative"},style:t.layout_[t.__Active()],on:{click:t.__keepLayer}},[t.__allGridZero&&!t.__openDesignTool?n("div",{staticClass:"sr-dfview-msg",style:{"background-color":t.$$rgb()}},[n("var",[t._v("/"+t._s(t.$parent.$$alias()))]),t._v(" "+t._s(t.$t("defaultViewMsg1"))+" "),n("var",[t._v("ctrl+Q")]),t._v(" "+t._s(t.$t("defaultViewMsg2"))+" ")]):t._e(),t.layoutReady_?t.__openDesignTool?t._l(t.grid_[t.__Active()],(function(e,i){return n("vue-draggable-resizable",{key:i,class:{"sr-active-grid":t.activeGrid_===i},style:e.style,attrs:{"enable-native-drag":!1,draggable:!0,resizable:!0,grid:[8,8],parent:!0,x:t.__gridPosValue(e.x,e.r,e.w,t.layoutW_),y:t.__gridPosValue(e.y,e.b,e.h,t.layoutH_),w:t.__gridDimValue(e.w,t.layoutW_),h:t.__gridDimValue(e.h,t.layoutH_),handles:t.__gridHandles(e.w,e.h)},on:{activated:function(e){return t.__gridActived(i)},resizestop:function(n){return t.__stopResizeGrid(i,e)},dragging:function(n,i){return t.__dragGrid(e,n,i)},dragstop:function(n,i){return t.__stopDragGrid(e)},resizing:function(n,i,r,s){return t.__resizeGrid(e,n,i,r,s)}}},[n("div",{staticClass:"pp-fit-100",staticStyle:{position:"relative"},on:{click:t.__clickGrid}},[n(e.comp,{tag:"component",attrs:{layerX:t.layerX_,layerY:t.layerY_,layerW:t.layerW_,layerH:t.layerH_},on:{dispatch:t.onDispatch,"update:layerX":function(e){t.layerX_=e},"update:layer-x":function(e){t.layerX_=e},"update:layerY":function(e){t.layerY_=e},"update:layer-y":function(e){t.layerY_=e},"update:layerW":function(e){t.layerW_=e},"update:layer-w":function(e){t.layerW_=e},"update:layerH":function(e){t.layerH_=e},"update:layer-h":function(e){t.layerH_=e}}})],1)])})):t._l(t.grid_[t.__Active()],(function(e,i){return n("div",{key:i,style:Object.assign({},e.style,{position:"absolute",left:t.__gridPosValue(e.x,e.r,e.w,t.layoutW_)+"px",top:t.__gridPosValue(e.y,e.b,e.h,t.layoutH_)+"px",width:t.__gridDimValue(e.w,t.layoutW_)+"px",height:t.__gridDimValue(e.h,t.layoutH_)+"px"})},[n("div",{staticClass:"pp-fit-100",staticStyle:{position:"relative"},on:{click:t.__clickGrid}},[n(e.comp,{tag:"component",attrs:{layerX:t.layerX_,layerY:t.layerY_,layerW:t.layerW_,layerH:t.layerH_},on:{dispatch:t.onDispatch,"update:layerX":function(e){t.layerX_=e},"update:layer-x":function(e){t.layerX_=e},"update:layerY":function(e){t.layerY_=e},"update:layer-y":function(e){t.layerY_=e},"update:layerW":function(e){t.layerW_=e},"update:layer-w":function(e){t.layerW_=e},"update:layerH":function(e){t.layerH_=e},"update:layer-h":function(e){t.layerH_=e}}})],1)])})):n("div")],2):t._e()],1)}),[],!1,hn,"d64c0612",null,null);function hn(t){for(let e in pn)this[e]=pn[e]}var fn=function(){return dn.exports}();export{fn as G,p as I,f as P,y as W,h as a,v as b};
